<h1>ショップ詳細</h1>

<div class="card">
  <div class="card-body">
    <h5 class="card-title"><%= @shop.name %></h5>
    <p class="card-text">
      <strong>住所:</strong> <%= @shop.address %>
    </p>
    <p class="card-text">
      <strong>Google Map URL:</strong> 
      <%= link_to @shop.google_map_url, @shop.google_map_url, target: "_blank" %>
    </p>
    <p class="card-text">
      <strong>作成日:</strong> <%= @shop.created_at.strftime("%Y/%m/%d %H:%M") %>
    </p>
    <p class="card-text">
      <strong>更新日:</strong> <%= @shop.updated_at.strftime("%Y/%m/%d %H:%M") %>
    </p>
  </div>
</div>

<div class="mt-3">
  <%= link_to "編集", edit_admin_shop_path(@shop), class: "btn btn-primary" %>
  <%= link_to "削除", admin_shop_path(@shop), method: :delete, 
              confirm: "本当に削除しますか？", 
              class: "btn btn-danger" %>
  <%= link_to "一覧に戻る", admin_shops_path, class: "btn btn-secondary" %>
</div>

<hr>

<h3>このショップのメニュー</h3>
<% if @shop.menus.any? %>
  <div class="row">
    <% @shop.menus.each do |menu| %>
      <div class="col-md-4 mb-3">
        <div class="card">
          <% if menu.image.attached? %>
            <%= image_tag menu.image, class: "card-img-top", style: "height: 200px; object-fit: cover;" %>
          <% end %>
          <div class="card-body">
            <h6 class="card-title"><%= menu.name %></h6>
            <p class="card-text">
              <small class="text-muted">
                <%= link_to "メニュー詳細", admin_menu_path(menu) %>
              </small>
            </p>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <p>このショップにはまだメニューが登録されていません。</p>
<% end %>